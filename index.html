<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="header">
        <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</span>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
            <span class="theme-icon">üåô</span>
        </button>
    </div>
    
    <div class="legend">
        <div class="legend-item">
            <div class="legend-dot" style="background: #f44336;"></div>
            <span>–û—á–Ω—ã–µ</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot" style="background: #ff9800;"></div>
            <span>–û–Ω–ª–∞–π–Ω</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot" style="background: #9c27b0;"></div>
            <span>–ú–æ–∏ –¥–µ–ª–∞</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot" style="background: #4caf50;"></div>
            <span>–°–≤–æ–±–æ–¥–Ω–æ</span>
        </div>
    </div>

    <div class="calendar-container" id="calendarContainer">
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- Modal for electives selection -->
    <div class="modal" id="electivesModal">
        <div class="modal-content">
            <div class="modal-header">–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–µ–∫—Ç–∏–≤—ã</div>
            <div class="modal-body" id="electivesList"></div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="saveElectives()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal for day schedule -->
    <div class="modal" id="dayModal">
        <div class="modal-content">
            <div class="modal-header" id="dayModalHeader">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</div>
            <div class="modal-body" id="dayModalBody"></div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDayModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                <button class="btn btn-primary" onclick="saveNotes()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏</button>
            </div>
        </div>
    </div>

    <div class="storage-info" id="storageInfo">
        <span id="storageText">CloudStorage: 0 KB / 1024 KB</span>
        <div class="storage-bar">
            <div class="storage-fill" id="storageFill" style="width: 0%"></div>
        </div>
    </div>

    <div class="bottom-buttons">
        <button class="btn btn-secondary" onclick="resetElectives()">–ò–∑–º–µ–Ω–∏—Ç—å —ç–ª–µ–∫—Ç–∏–≤—ã</button>
        <button class="btn btn-secondary" onclick="resetNotes()">–°–±—Ä–æ—Å–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏</button>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/calendar.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
